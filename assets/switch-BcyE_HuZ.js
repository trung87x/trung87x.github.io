import{Y as Z,M as _,r as t,X as z,K as F,G as o,U as Q,a as ee,I as te,p as re,o as m,b as C,w as ae,$ as le,d as oe,e as se,n as ue,V as ne}from"./index-DoTC0ASh.js";import{l as ce,b as ie}from"./use-default-value-BjunOZmG.js";import{e as de}from"./use-resolve-button-type-CU9pBceG.js";import{g as pe,j as fe}from"./form-fields-Pijg8yTu.js";import{Z as me,V as be,u as he,N as ve}from"./label-ZIN2fbqp.js";import{s as $e}from"./bugs-DGQnUURC.js";let x=t.createContext(null);x.displayName="GroupContext";let ge=t.Fragment;function ke(l){var n;let[r,c]=t.useState(null),[b,h]=be(),[v,a]=z(),i=t.useMemo(()=>({switch:r,setSwitch:c}),[r,c]),$={},g=l,d=F();return o.createElement(a,{name:"Switch.Description",value:v},o.createElement(h,{name:"Switch.Label",value:b,props:{htmlFor:(n=i.switch)==null?void 0:n.id,onClick(p){r&&(Q(p.currentTarget)&&p.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},o.createElement(x.Provider,{value:i},d({ourProps:$,theirProps:g,slot:{},defaultTag:ge,name:"Switch.Group"}))))}let xe="button";function we(l,n){var r;let c=t.useId(),b=he(),h=ee(),{id:v=b||`headlessui-switch-${c}`,disabled:a=h||!1,checked:i,defaultChecked:$,onChange:g,name:d,value:p,form:P,autoFocus:k=!1,...D}=l,w=t.useContext(x),[E,T]=t.useState(null),G=t.useRef(null),I=te(G,n,w===null?null:w.setSwitch,T),s=ce($),[f,u]=ie(i,g,s??!1),V=re(),[K,y]=t.useState(!1),S=m(()=>{y(!0),u?.(!f),V.nextFrame(()=>{y(!1)})}),L=m(e=>{if($e(e.currentTarget))return e.preventDefault();e.preventDefault(),S()}),R=m(e=>{e.key===C.Space?(e.preventDefault(),S()):e.key===C.Enter&&pe(e.currentTarget)}),j=m(e=>e.preventDefault()),H=ve(),M=ae(),{isFocusVisible:N,focusProps:U}=le({autoFocus:k}),{isHovered:A,hoverProps:O}=oe({isDisabled:a}),{pressed:X,pressProps:q}=se({disabled:a}),B=ue({checked:f,disabled:a,hover:A,focus:N,active:X,autofocus:k,changing:K}),J=ne({id:v,ref:I,role:"switch",type:de(l,E),tabIndex:l.tabIndex===-1?0:(r=l.tabIndex)!=null?r:0,"aria-checked":f,"aria-labelledby":H,"aria-describedby":M,disabled:a||void 0,autoFocus:k,onClick:L,onKeyUp:R,onKeyPress:j},U,O,q),W=t.useCallback(()=>{if(s!==void 0)return u?.(s)},[u,s]),Y=F();return o.createElement(o.Fragment,null,d!=null&&o.createElement(fe,{disabled:a,data:{[d]:p||"on"},overrides:{type:"checkbox",checked:f},form:P,onReset:W}),Y({ourProps:J,theirProps:D,slot:B,defaultTag:xe,name:"Switch"}))}let ye=Z(we),Se=ke,Ce=me,Fe=_,Ve=Object.assign(ye,{Group:Se,Label:Ce,Description:Fe});export{Ve as t};
