import{Y as N,M as fe,r as i,a as Z,I as j,w as me,aA as J,P as _,o as V,$ as ee,d as re,V as ae,n as H,K,X as te,b as T,aj as U,aB as z,aC as Q,al as M,G as P,a8 as be,a9 as ve}from"./index-BAlIhux4.js";import{u as Re}from"./use-by-comparator-39XVesco.js";import{l as $e,b as ge}from"./use-default-value-B3UliYtl.js";import{g as he,j as ke}from"./form-fields-1j2hxBo2.js";import{Z as ye,u as xe,N as Pe,V as oe}from"./label-CnRdmZY7.js";import{s as ie}from"./bugs-Bc0kGh7Q.js";var Ee=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Ee||{});let Ge={0(e,r){let o=[...e.options,{id:r.id,element:r.element,propsRef:r.propsRef}];return{...e,options:ve(o,a=>a.element.current)}},1(e,r){let o=e.options.slice(),a=e.options.findIndex(c=>c.id===r.id);return a===-1?e:(o.splice(a,1),{...e,options:o})}},W=i.createContext(null);W.displayName="RadioGroupDataContext";function B(e){let r=i.useContext(W);if(r===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,B),o}return r}let X=i.createContext(null);X.displayName="RadioGroupActionsContext";function Y(e){let r=i.useContext(X);if(r===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Y),o}return r}function Oe(e,r){return be(r.type,Ge,e,r)}let De="div";function Ie(e,r){let o=i.useId(),a=Z(),{id:c=`headlessui-radiogroup-${o}`,value:C,form:R,name:$,onChange:l,by:b,disabled:u=a||!1,defaultValue:f,tabIndex:E=0,...g}=e,v=Re(b),[k,G]=i.useReducer(Oe,{options:[]}),n=k.options,[w,F]=oe(),[O,A]=te(),D=i.useRef(null),S=j(D,r),d=$e(f),[p,I]=ge(C,l,d),y=i.useMemo(()=>n.find(t=>!t.propsRef.current.disabled),[n]),h=i.useMemo(()=>n.some(t=>v(t.propsRef.current.value,p)),[n,p]),m=V(t=>{var L;if(u||v(t,p))return!1;let s=(L=n.find(x=>v(x.propsRef.current.value,t)))==null?void 0:L.propsRef.current;return s!=null&&s.disabled?!1:(I?.(t),!0)}),ne=V(t=>{if(!D.current)return;let L=n.filter(s=>s.propsRef.current.disabled===!1).map(s=>s.element.current);switch(t.key){case T.Enter:he(t.currentTarget);break;case T.ArrowLeft:case T.ArrowUp:if(t.preventDefault(),t.stopPropagation(),z(L,M.Previous|M.WrapAround)===Q.Success){let s=n.find(x=>U(x.element.current));s&&m(s.propsRef.current.value)}break;case T.ArrowRight:case T.ArrowDown:if(t.preventDefault(),t.stopPropagation(),z(L,M.Next|M.WrapAround)===Q.Success){let s=n.find(x=>U(x.element.current));s&&m(s.propsRef.current.value)}break;case T.Space:{t.preventDefault(),t.stopPropagation();let s=n.find(x=>U(x.element.current));s&&m(s.propsRef.current.value)}break}}),q=V(t=>(G({type:0,...t}),()=>G({type:1,id:t.id}))),se=i.useMemo(()=>({value:p,firstOption:y,containsCheckedOption:h,disabled:u,compare:v,tabIndex:E,...k}),[p,y,h,u,v,E,k]),le=i.useMemo(()=>({registerOption:q,change:m}),[q,m]),ue={ref:S,id:c,role:"radiogroup","aria-labelledby":w,"aria-describedby":O,onKeyDown:ne},de=H({value:p}),pe=i.useCallback(()=>{if(d!==void 0)return m(d)},[m,d]),ce=K();return P.createElement(A,{name:"RadioGroup.Description"},P.createElement(F,{name:"RadioGroup.Label"},P.createElement(X.Provider,{value:le},P.createElement(W.Provider,{value:se},$!=null&&P.createElement(ke,{disabled:u,data:{[$]:p||"on"},overrides:{type:"radio",checked:p!=null},form:R,onReset:pe}),ce({ourProps:ue,theirProps:g,slot:de,defaultTag:De,name:"RadioGroup"})))))}let Te="div";function Ce(e,r){var o;let a=B("RadioGroup.Option"),c=Y("RadioGroup.Option"),C=i.useId(),{id:R=`headlessui-radiogroup-option-${C}`,value:$,disabled:l=a.disabled||!1,autoFocus:b=!1,...u}=e,f=i.useRef(null),E=j(f,r),[g,v]=oe(),[k,G]=te(),n=J({value:$,disabled:l});_(()=>c.registerOption({id:R,element:f,propsRef:n}),[R,c,f,n]);let w=V(h=>{var m;if(ie(h.currentTarget))return h.preventDefault();c.change($)&&((m=f.current)==null||m.focus())}),F=((o=a.firstOption)==null?void 0:o.id)===R,{isFocusVisible:O,focusProps:A}=ee({autoFocus:b}),{isHovered:D,hoverProps:S}=re({isDisabled:l}),d=a.compare(a.value,$),p=ae({ref:E,id:R,role:"radio","aria-checked":d?"true":"false","aria-labelledby":g,"aria-describedby":k,"aria-disabled":l?!0:void 0,tabIndex:l?-1:d||!a.containsCheckedOption&&F?a.tabIndex:-1,onClick:l?void 0:w,autoFocus:b},A,S),I=H({checked:d,disabled:l,active:O,hover:D,focus:O,autofocus:b}),y=K();return P.createElement(G,{name:"RadioGroup.Description"},P.createElement(v,{name:"RadioGroup.Label"},y({ourProps:p,theirProps:u,slot:I,defaultTag:Te,name:"RadioGroup.Option"})))}let we="span";function Fe(e,r){var o;let a=B("Radio"),c=Y("Radio"),C=i.useId(),R=xe(),$=Z(),{id:l=R||`headlessui-radio-${C}`,value:b,disabled:u=a.disabled||$||!1,autoFocus:f=!1,...E}=e,g=i.useRef(null),v=j(g,r),k=Pe(),G=me(),n=J({value:b,disabled:u});_(()=>c.registerOption({id:l,element:g,propsRef:n}),[l,c,g,n]);let w=V(y=>{var h;if(ie(y.currentTarget))return y.preventDefault();c.change(b)&&((h=g.current)==null||h.focus())}),{isFocusVisible:F,focusProps:O}=ee({autoFocus:f}),{isHovered:A,hoverProps:D}=re({isDisabled:u}),S=((o=a.firstOption)==null?void 0:o.id)===l,d=a.compare(a.value,b),p=ae({ref:v,id:l,role:"radio","aria-checked":d?"true":"false","aria-labelledby":k,"aria-describedby":G,"aria-disabled":u?!0:void 0,tabIndex:u?-1:d||!a.containsCheckedOption&&S?a.tabIndex:-1,autoFocus:f,onClick:u?void 0:w},O,D),I=H({checked:d,disabled:u,hover:A,focus:F,autofocus:f});return K()({ourProps:p,theirProps:E,slot:I,defaultTag:we,name:"Radio"})}let Ae=N(Ie),Se=N(Ce),Le=N(Fe),Ve=ye,Me=fe,Be=Object.assign(Ae,{Option:Se,Radio:Le,Label:Ve,Description:Me});export{Le as K,Be as y};
