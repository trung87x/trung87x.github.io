import{$ as Z,a as J}from"./useFocusRing-BoW2GHXd.js";import{r as i,G as P}from"./index-BaldAqAP.js";import{u as fe}from"./use-by-comparator-CnAZzZXx.js";import{l as me,b as be,j as ve,g as Re}from"./form-fields-BoFiUDDn.js";import{Y as N,y as H,c as _,n as ee,o as V,V as re,K,u as $e}from"./use-sync-refs-CKmdBV6A.js";import{a as j,o as I,d as U}from"./keyboard-BIuMz1eD.js";import{M as ge,a as te,w as he,H as ae}from"./description-DG2yupTS.js";import{Z as ke,u as ye,N as xe,V as oe}from"./label-DI_3t3Mw.js";import{s as ie}from"./bugs-Ck4uU3ab.js";import{v as Q,T as M,A as X,G as Pe}from"./focus-management-YwtfZChj.js";var Ee=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Ee||{});let Ge={0(e,r){let o=[...e.options,{id:r.id,element:r.element,propsRef:r.propsRef}];return{...e,options:Pe(o,t=>t.element.current)}},1(e,r){let o=e.options.slice(),t=e.options.findIndex(c=>c.id===r.id);return t===-1?e:(o.splice(t,1),{...e,options:o})}},W=i.createContext(null);W.displayName="RadioGroupDataContext";function Y(e){let r=i.useContext(W);if(r===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Y),o}return r}let q=i.createContext(null);q.displayName="RadioGroupActionsContext";function z(e){let r=i.useContext(q);if(r===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,z),o}return r}function Oe(e,r){return $e(r.type,Ge,e,r)}let De="div";function Te(e,r){let o=i.useId(),t=te(),{id:c=`headlessui-radiogroup-${o}`,value:w,form:R,name:$,onChange:u,by:b,disabled:l=t||!1,defaultValue:f,tabIndex:E=0,...g}=e,v=fe(b),[k,G]=i.useReducer(Oe,{options:[]}),n=k.options,[C,F]=oe(),[O,A]=ae(),D=i.useRef(null),S=H(D,r),d=me(f),[p,T]=be(w,u,d),y=i.useMemo(()=>n.find(a=>!a.propsRef.current.disabled),[n]),h=i.useMemo(()=>n.some(a=>v(a.propsRef.current.value,p)),[n,p]),m=V(a=>{var L;if(l||v(a,p))return!1;let s=(L=n.find(x=>v(x.propsRef.current.value,a)))==null?void 0:L.propsRef.current;return s!=null&&s.disabled?!1:(T?.(a),!0)}),ne=V(a=>{if(!D.current)return;let L=n.filter(s=>s.propsRef.current.disabled===!1).map(s=>s.element.current);switch(a.key){case I.Enter:Re(a.currentTarget);break;case I.ArrowLeft:case I.ArrowUp:if(a.preventDefault(),a.stopPropagation(),Q(L,M.Previous|M.WrapAround)===X.Success){let s=n.find(x=>U(x.element.current));s&&m(s.propsRef.current.value)}break;case I.ArrowRight:case I.ArrowDown:if(a.preventDefault(),a.stopPropagation(),Q(L,M.Next|M.WrapAround)===X.Success){let s=n.find(x=>U(x.element.current));s&&m(s.propsRef.current.value)}break;case I.Space:{a.preventDefault(),a.stopPropagation();let s=n.find(x=>U(x.element.current));s&&m(s.propsRef.current.value)}break}}),B=V(a=>(G({type:0,...a}),()=>G({type:1,id:a.id}))),se=i.useMemo(()=>({value:p,firstOption:y,containsCheckedOption:h,disabled:l,compare:v,tabIndex:E,...k}),[p,y,h,l,v,E,k]),ue=i.useMemo(()=>({registerOption:B,change:m}),[B,m]),le={ref:S,id:c,role:"radiogroup","aria-labelledby":C,"aria-describedby":O,onKeyDown:ne},de=j({value:p}),pe=i.useCallback(()=>{if(d!==void 0)return m(d)},[m,d]),ce=K();return P.createElement(A,{name:"RadioGroup.Description"},P.createElement(F,{name:"RadioGroup.Label"},P.createElement(q.Provider,{value:ue},P.createElement(W.Provider,{value:se},$!=null&&P.createElement(ve,{disabled:l,data:{[$]:p||"on"},overrides:{type:"radio",checked:p!=null},form:R,onReset:pe}),ce({ourProps:le,theirProps:g,slot:de,defaultTag:De,name:"RadioGroup"})))))}let Ie="div";function we(e,r){var o;let t=Y("RadioGroup.Option"),c=z("RadioGroup.Option"),w=i.useId(),{id:R=`headlessui-radiogroup-option-${w}`,value:$,disabled:u=t.disabled||!1,autoFocus:b=!1,...l}=e,f=i.useRef(null),E=H(f,r),[g,v]=oe(),[k,G]=ae(),n=_({value:$,disabled:u});ee(()=>c.registerOption({id:R,element:f,propsRef:n}),[R,c,f,n]);let C=V(h=>{var m;if(ie(h.currentTarget))return h.preventDefault();c.change($)&&((m=f.current)==null||m.focus())}),F=((o=t.firstOption)==null?void 0:o.id)===R,{isFocusVisible:O,focusProps:A}=Z({autoFocus:b}),{isHovered:D,hoverProps:S}=J({isDisabled:u}),d=t.compare(t.value,$),p=re({ref:E,id:R,role:"radio","aria-checked":d?"true":"false","aria-labelledby":g,"aria-describedby":k,"aria-disabled":u?!0:void 0,tabIndex:u?-1:d||!t.containsCheckedOption&&F?t.tabIndex:-1,onClick:u?void 0:C,autoFocus:b},A,S),T=j({checked:d,disabled:u,active:O,hover:D,focus:O,autofocus:b}),y=K();return P.createElement(G,{name:"RadioGroup.Description"},P.createElement(v,{name:"RadioGroup.Label"},y({ourProps:p,theirProps:l,slot:T,defaultTag:Ie,name:"RadioGroup.Option"})))}let Ce="span";function Fe(e,r){var o;let t=Y("Radio"),c=z("Radio"),w=i.useId(),R=ye(),$=te(),{id:u=R||`headlessui-radio-${w}`,value:b,disabled:l=t.disabled||$||!1,autoFocus:f=!1,...E}=e,g=i.useRef(null),v=H(g,r),k=xe(),G=he(),n=_({value:b,disabled:l});ee(()=>c.registerOption({id:u,element:g,propsRef:n}),[u,c,g,n]);let C=V(y=>{var h;if(ie(y.currentTarget))return y.preventDefault();c.change(b)&&((h=g.current)==null||h.focus())}),{isFocusVisible:F,focusProps:O}=Z({autoFocus:f}),{isHovered:A,hoverProps:D}=J({isDisabled:l}),S=((o=t.firstOption)==null?void 0:o.id)===u,d=t.compare(t.value,b),p=re({ref:v,id:u,role:"radio","aria-checked":d?"true":"false","aria-labelledby":k,"aria-describedby":G,"aria-disabled":l?!0:void 0,tabIndex:l?-1:d||!t.containsCheckedOption&&S?t.tabIndex:-1,autoFocus:f,onClick:l?void 0:C},O,D),T=j({checked:d,disabled:l,hover:A,focus:F,autofocus:f});return K()({ourProps:p,theirProps:E,slot:T,defaultTag:Ce,name:"Radio"})}let Ae=N(Te),Se=N(we),Le=N(Fe),Ve=ke,Me=ge,Qe=Object.assign(Ae,{Option:Se,Radio:Le,Label:Ve,Description:Me});export{Le as K,Qe as y};
