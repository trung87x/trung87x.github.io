import{$ as Z,a as J}from"./useFocusRing-DcMgcFf7.js";import{r as i,G as P}from"./index-BUE_4nSx.js";import{u as fe}from"./use-by-comparator-CnVGzJUL.js";import{l as me,b as be}from"./use-default-value-ZR9FVAES.js";import{Y as N,b as _,n as ee,o as V,V as re,K as H,u as ve}from"./render-CNyBWpu3.js";import{n as K}from"./use-slot-BZcd_w4P.js";import{y as j}from"./use-sync-refs-Dh0umLOC.js";import{a as oe}from"./disabled-1up_um9U.js";import{j as Re,g as $e}from"./form-fields-DC_tpJae.js";import{Z as ge,u as he,N as ke,V as te}from"./label-CN3TFCLp.js";import{s as ae}from"./bugs-BLuxiOOY.js";import{v as Q,T as M,A as X,G as ye}from"./focus-management-C0S51YJM.js";import{d as U}from"./owner-C7ikqkQc.js";import{M as xe,w as Pe,H as ie}from"./description-11b0SVwG.js";import{o as I}from"./keyboard-C1Wiwm26.js";var Ee=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Ee||{});let Ge={0(e,r){let a=[...e.options,{id:r.id,element:r.element,propsRef:r.propsRef}];return{...e,options:ye(a,o=>o.element.current)}},1(e,r){let a=e.options.slice(),o=e.options.findIndex(c=>c.id===r.id);return o===-1?e:(a.splice(o,1),{...e,options:a})}},W=i.createContext(null);W.displayName="RadioGroupDataContext";function Y(e){let r=i.useContext(W);if(r===null){let a=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Y),a}return r}let q=i.createContext(null);q.displayName="RadioGroupActionsContext";function z(e){let r=i.useContext(q);if(r===null){let a=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,z),a}return r}function Oe(e,r){return ve(r.type,Ge,e,r)}let De="div";function Te(e,r){let a=i.useId(),o=oe(),{id:c=`headlessui-radiogroup-${a}`,value:w,form:R,name:$,onChange:u,by:b,disabled:l=o||!1,defaultValue:f,tabIndex:E=0,...g}=e,v=fe(b),[k,G]=i.useReducer(Oe,{options:[]}),n=k.options,[C,F]=te(),[O,A]=ie(),D=i.useRef(null),S=j(D,r),d=me(f),[p,T]=be(w,u,d),y=i.useMemo(()=>n.find(t=>!t.propsRef.current.disabled),[n]),h=i.useMemo(()=>n.some(t=>v(t.propsRef.current.value,p)),[n,p]),m=V(t=>{var L;if(l||v(t,p))return!1;let s=(L=n.find(x=>v(x.propsRef.current.value,t)))==null?void 0:L.propsRef.current;return s!=null&&s.disabled?!1:(T?.(t),!0)}),ne=V(t=>{if(!D.current)return;let L=n.filter(s=>s.propsRef.current.disabled===!1).map(s=>s.element.current);switch(t.key){case I.Enter:$e(t.currentTarget);break;case I.ArrowLeft:case I.ArrowUp:if(t.preventDefault(),t.stopPropagation(),Q(L,M.Previous|M.WrapAround)===X.Success){let s=n.find(x=>U(x.element.current));s&&m(s.propsRef.current.value)}break;case I.ArrowRight:case I.ArrowDown:if(t.preventDefault(),t.stopPropagation(),Q(L,M.Next|M.WrapAround)===X.Success){let s=n.find(x=>U(x.element.current));s&&m(s.propsRef.current.value)}break;case I.Space:{t.preventDefault(),t.stopPropagation();let s=n.find(x=>U(x.element.current));s&&m(s.propsRef.current.value)}break}}),B=V(t=>(G({type:0,...t}),()=>G({type:1,id:t.id}))),se=i.useMemo(()=>({value:p,firstOption:y,containsCheckedOption:h,disabled:l,compare:v,tabIndex:E,...k}),[p,y,h,l,v,E,k]),ue=i.useMemo(()=>({registerOption:B,change:m}),[B,m]),le={ref:S,id:c,role:"radiogroup","aria-labelledby":C,"aria-describedby":O,onKeyDown:ne},de=K({value:p}),pe=i.useCallback(()=>{if(d!==void 0)return m(d)},[m,d]),ce=H();return P.createElement(A,{name:"RadioGroup.Description"},P.createElement(F,{name:"RadioGroup.Label"},P.createElement(q.Provider,{value:ue},P.createElement(W.Provider,{value:se},$!=null&&P.createElement(Re,{disabled:l,data:{[$]:p||"on"},overrides:{type:"radio",checked:p!=null},form:R,onReset:pe}),ce({ourProps:le,theirProps:g,slot:de,defaultTag:De,name:"RadioGroup"})))))}let Ie="div";function we(e,r){var a;let o=Y("RadioGroup.Option"),c=z("RadioGroup.Option"),w=i.useId(),{id:R=`headlessui-radiogroup-option-${w}`,value:$,disabled:u=o.disabled||!1,autoFocus:b=!1,...l}=e,f=i.useRef(null),E=j(f,r),[g,v]=te(),[k,G]=ie(),n=_({value:$,disabled:u});ee(()=>c.registerOption({id:R,element:f,propsRef:n}),[R,c,f,n]);let C=V(h=>{var m;if(ae(h.currentTarget))return h.preventDefault();c.change($)&&((m=f.current)==null||m.focus())}),F=((a=o.firstOption)==null?void 0:a.id)===R,{isFocusVisible:O,focusProps:A}=Z({autoFocus:b}),{isHovered:D,hoverProps:S}=J({isDisabled:u}),d=o.compare(o.value,$),p=re({ref:E,id:R,role:"radio","aria-checked":d?"true":"false","aria-labelledby":g,"aria-describedby":k,"aria-disabled":u?!0:void 0,tabIndex:u?-1:d||!o.containsCheckedOption&&F?o.tabIndex:-1,onClick:u?void 0:C,autoFocus:b},A,S),T=K({checked:d,disabled:u,active:O,hover:D,focus:O,autofocus:b}),y=H();return P.createElement(G,{name:"RadioGroup.Description"},P.createElement(v,{name:"RadioGroup.Label"},y({ourProps:p,theirProps:l,slot:T,defaultTag:Ie,name:"RadioGroup.Option"})))}let Ce="span";function Fe(e,r){var a;let o=Y("Radio"),c=z("Radio"),w=i.useId(),R=he(),$=oe(),{id:u=R||`headlessui-radio-${w}`,value:b,disabled:l=o.disabled||$||!1,autoFocus:f=!1,...E}=e,g=i.useRef(null),v=j(g,r),k=ke(),G=Pe(),n=_({value:b,disabled:l});ee(()=>c.registerOption({id:u,element:g,propsRef:n}),[u,c,g,n]);let C=V(y=>{var h;if(ae(y.currentTarget))return y.preventDefault();c.change(b)&&((h=g.current)==null||h.focus())}),{isFocusVisible:F,focusProps:O}=Z({autoFocus:f}),{isHovered:A,hoverProps:D}=J({isDisabled:l}),S=((a=o.firstOption)==null?void 0:a.id)===u,d=o.compare(o.value,b),p=re({ref:v,id:u,role:"radio","aria-checked":d?"true":"false","aria-labelledby":k,"aria-describedby":G,"aria-disabled":l?!0:void 0,tabIndex:l?-1:d||!o.containsCheckedOption&&S?o.tabIndex:-1,autoFocus:f,onClick:l?void 0:C},O,D),T=K({checked:d,disabled:l,hover:A,focus:F,autofocus:f});return H()({ourProps:p,theirProps:E,slot:T,defaultTag:Ce,name:"Radio"})}let Ae=N(Te),Se=N(we),Le=N(Fe),Ve=ge,Me=xe,er=Object.assign(Ae,{Option:Se,Radio:Le,Label:Ve,Description:Me});export{Le as K,er as y};
