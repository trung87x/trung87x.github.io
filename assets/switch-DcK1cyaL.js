import{r as e,G as t}from"./index-BaldAqAP.js";import{a as S,m as te,o as P}from"./keyboard-BIuMz1eD.js";import{H as C,a as D,l as re,M as ae,w as le}from"./description-DG2yupTS.js";import{W as oe,l as se,b as ie,g as ne,j as ue}from"./form-fields-BoFiUDDn.js";import{V as T,f as ce,Z as de,u as fe,N as pe}from"./label-DI_3t3Mw.js";import{Y as G,K as w,y as me,p as he,o as g,V as be}from"./use-sync-refs-CKmdBV6A.js";import{$ as ve,a as $e}from"./useFocusRing-BoW2GHXd.js";import{w as ge,e as ke}from"./use-resolve-button-type-DQUEqrYu.js";import{s as we}from"./bugs-Ck4uU3ab.js";let xe="div";function ye(s,n){let r=`headlessui-control-${e.useId()}`,[u,p]=T(),[m,h]=C(),l=D(),{disabled:o=l||!1,...i}=s,c=S({disabled:o}),d={ref:n,disabled:o||void 0,"aria-disabled":o||void 0},f=w();return t.createElement(re,{value:o},t.createElement(p,{value:u},t.createElement(h,{value:m},t.createElement(ce,{id:r},f({ourProps:d,theirProps:{...i,children:t.createElement(oe,null,typeof i.children=="function"?i.children(c):i.children)},slot:c,defaultTag:xe,name:"Field"})))))}let Ne=G(ye),x=e.createContext(null);x.displayName="GroupContext";let Ee=e.Fragment;function Fe(s){var n;let[r,u]=e.useState(null),[p,m]=T(),[h,l]=C(),o=e.useMemo(()=>({switch:r,setSwitch:u}),[r,u]),i={},c=s,d=w();return t.createElement(l,{name:"Switch.Description",value:h},t.createElement(m,{name:"Switch.Label",value:p,props:{htmlFor:(n=o.switch)==null?void 0:n.id,onClick(f){r&&(te(f.currentTarget)&&f.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},t.createElement(x.Provider,{value:o},d({ourProps:i,theirProps:c,slot:{},defaultTag:Ee,name:"Switch.Group"}))))}let Pe="button";function Se(s,n){var r;let u=e.useId(),p=fe(),m=D(),{id:h=p||`headlessui-switch-${u}`,disabled:l=m||!1,checked:o,defaultChecked:i,onChange:c,name:d,value:f,form:I,autoFocus:k=!1,...V}=s,y=e.useContext(x),[K,L]=e.useState(null),R=e.useRef(null),W=me(R,n,y===null?null:y.setSwitch,L),b=se(i),[$,v]=ie(o,c,b??!1),j=he(),[H,E]=e.useState(!1),F=g(()=>{E(!0),v?.(!$),j.nextFrame(()=>{E(!1)})}),M=g(a=>{if(we(a.currentTarget))return a.preventDefault();a.preventDefault(),F()}),N=g(a=>{a.key===P.Space?(a.preventDefault(),F()):a.key===P.Enter&&ne(a.currentTarget)}),A=g(a=>a.preventDefault()),O=pe(),U=le(),{isFocusVisible:_,focusProps:q}=ve({autoFocus:k}),{isHovered:B,hoverProps:J}=$e({isDisabled:l}),{pressed:X,pressProps:Y}=ge({disabled:l}),Z=S({checked:$,disabled:l,hover:B,focus:_,active:X,autofocus:k,changing:H}),z=be({id:h,ref:W,role:"switch",type:ke(s,K),tabIndex:s.tabIndex===-1?0:(r=s.tabIndex)!=null?r:0,"aria-checked":$,"aria-labelledby":O,"aria-describedby":U,disabled:l||void 0,autoFocus:k,onClick:M,onKeyUp:N,onKeyPress:A},q,J,Y),Q=e.useCallback(()=>{if(b!==void 0)return v?.(b)},[v,b]),ee=w();return t.createElement(t.Fragment,null,d!=null&&t.createElement(ue,{disabled:l,data:{[d]:f||"on"},overrides:{type:"checkbox",checked:$},form:I,onReset:Q}),ee({ourProps:z,theirProps:V,slot:Z,defaultTag:Pe,name:"Switch"}))}let Ce=G(Se),De=Fe,Te=de,Ge=ae,Ae=Object.assign(Ce,{Group:De,Label:Te,Description:Ge});export{Ne as W,Ae as t};
