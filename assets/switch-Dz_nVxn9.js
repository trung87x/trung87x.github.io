import{$ as Z,a as _}from"./useFocusRing-DcMgcFf7.js";import{r as t,G as l}from"./index-BUE_4nSx.js";import{w as z}from"./use-active-press-CdjcnPjf.js";import{l as Q,b as ee}from"./use-default-value-ZR9FVAES.js";import{Y as te,K as F,p as re,o as d,V as oe}from"./render-CNyBWpu3.js";import{e as ae}from"./use-resolve-button-type-BuRlBvvn.js";import{n as le}from"./use-slot-BZcd_w4P.js";import{y as se}from"./use-sync-refs-Dh0umLOC.js";import{a as ie}from"./disabled-1up_um9U.js";import{g as ue,j as ne}from"./form-fields-DC_tpJae.js";import{Z as ce,V as me,u as pe,N as fe}from"./label-CN3TFCLp.js";import{s as de}from"./bugs-BLuxiOOY.js";import{m as he}from"./dom-BlW_0b_t.js";import{M as be,H as ve,w as $e}from"./description-11b0SVwG.js";import{o as C}from"./keyboard-C1Wiwm26.js";let w=t.createContext(null);w.displayName="GroupContext";let ge=t.Fragment;function ke(a){var u;let[r,n]=t.useState(null),[h,b]=me(),[v,o]=ve(),c=t.useMemo(()=>({switch:r,setSwitch:n}),[r,n]),$={},g=a,m=F();return l.createElement(o,{name:"Switch.Description",value:v},l.createElement(b,{name:"Switch.Label",value:h,props:{htmlFor:(u=c.switch)==null?void 0:u.id,onClick(p){r&&(he(p.currentTarget)&&p.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},l.createElement(w.Provider,{value:c},m({ourProps:$,theirProps:g,slot:{},defaultTag:ge,name:"Switch.Group"}))))}let we="button";function xe(a,u){var r;let n=t.useId(),h=pe(),b=ie(),{id:v=h||`headlessui-switch-${n}`,disabled:o=b||!1,checked:c,defaultChecked:$,onChange:g,name:m,value:p,form:P,autoFocus:k=!1,...D}=a,x=t.useContext(w),[E,T]=t.useState(null),G=t.useRef(null),I=se(G,u,x===null?null:x.setSwitch,T),s=Q($),[f,i]=ee(c,g,s??!1),V=re(),[K,y]=t.useState(!1),S=d(()=>{y(!0),i?.(!f),V.nextFrame(()=>{y(!1)})}),L=d(e=>{if(de(e.currentTarget))return e.preventDefault();e.preventDefault(),S()}),R=d(e=>{e.key===C.Space?(e.preventDefault(),S()):e.key===C.Enter&&ue(e.currentTarget)}),j=d(e=>e.preventDefault()),H=fe(),M=$e(),{isFocusVisible:N,focusProps:A}=Z({autoFocus:k}),{isHovered:O,hoverProps:U}=_({isDisabled:o}),{pressed:q,pressProps:B}=z({disabled:o}),J=le({checked:f,disabled:o,hover:O,focus:N,active:q,autofocus:k,changing:K}),W=oe({id:v,ref:I,role:"switch",type:ae(a,E),tabIndex:a.tabIndex===-1?0:(r=a.tabIndex)!=null?r:0,"aria-checked":f,"aria-labelledby":H,"aria-describedby":M,disabled:o||void 0,autoFocus:k,onClick:L,onKeyUp:R,onKeyPress:j},A,U,B),X=t.useCallback(()=>{if(s!==void 0)return i?.(s)},[i,s]),Y=F();return l.createElement(l.Fragment,null,m!=null&&l.createElement(ne,{disabled:o,data:{[m]:p||"on"},overrides:{type:"checkbox",checked:f},form:P,onReset:X}),Y({ourProps:W,theirProps:D,slot:J,defaultTag:we,name:"Switch"}))}let ye=te(xe),Se=ke,Ce=ce,Fe=be,Oe=Object.assign(ye,{Group:Se,Label:Ce,Description:Fe});export{Oe as t};
