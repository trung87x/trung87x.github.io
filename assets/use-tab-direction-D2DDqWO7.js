import{r as c,G as d}from"./index-BUE_4nSx.js";import{f as v,s as y}from"./hidden-c0o-GYKL.js";import{t as s}from"./dom-BlW_0b_t.js";import{l as m}from"./owner-C7ikqkQc.js";import{o as f}from"./render-CNyBWpu3.js";import{s as b}from"./portal-DcpW2Nz_.js";function B({defaultContainers:r=[],portals:t,mainTreeNode:l}={}){let i=f(()=>{var u,n;let a=m(l),o=[];for(let e of r)e!==null&&(s(e)?o.push(e):"current"in e&&s(e.current)&&o.push(e.current));if(t!=null&&t.current)for(let e of t.current)o.push(e);for(let e of(u=a?.querySelectorAll("html > *, body > *"))!=null?u:[])e!==document.body&&e!==document.head&&s(e)&&e.id!=="headlessui-portal-root"&&(l&&(e.contains(l)||e.contains((n=l?.getRootNode())==null?void 0:n.host))||o.some(h=>e.contains(h))||o.push(e));return o});return{resolveContainers:i,contains:f(u=>i().some(n=>n.contains(u)))}}let p=c.createContext(null);function F({children:r,node:t}){let[l,i]=c.useState(null),u=k(t??l);return d.createElement(p.Provider,{value:u},r,u===null&&d.createElement(v,{features:y.Hidden,ref:n=>{var a,o;if(n){for(let e of(o=(a=m(n))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?o:[])if(e!==document.body&&e!==document.head&&s(e)&&e!=null&&e.contains(n)){i(e);break}}}}))}function k(r=null){var t;return(t=c.useContext(p))!=null?t:r}var w=(r=>(r[r.Forwards=0]="Forwards",r[r.Backwards=1]="Backwards",r))(w||{});function N(){let r=c.useRef(0);return b(!0,"keydown",t=>{t.key==="Tab"&&(r.current=t.shiftKey?1:0)},!0),r}export{B as S,w as a,F as j,N as u,k as x};
