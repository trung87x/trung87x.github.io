import{r as c,G as d}from"./index-Cfbom0r9.js";import{f as v,s as y}from"./hidden-DGdeukVa.js";import{l as m,t as s}from"./keyboard-Bur1hHA-.js";import{o as f}from"./use-sync-refs-CwDvttRH.js";import{s as b}from"./portal-CArIgIsl.js";function A({defaultContainers:t=[],portals:r,mainTreeNode:l}={}){let i=f(()=>{var u,n;let a=m(l),o=[];for(let e of t)e!==null&&(s(e)?o.push(e):"current"in e&&s(e.current)&&o.push(e.current));if(r!=null&&r.current)for(let e of r.current)o.push(e);for(let e of(u=a?.querySelectorAll("html > *, body > *"))!=null?u:[])e!==document.body&&e!==document.head&&s(e)&&e.id!=="headlessui-portal-root"&&(l&&(e.contains(l)||e.contains((n=l?.getRootNode())==null?void 0:n.host))||o.some(h=>e.contains(h))||o.push(e));return o});return{resolveContainers:i,contains:f(u=>i().some(n=>n.contains(u)))}}let p=c.createContext(null);function B({children:t,node:r}){let[l,i]=c.useState(null),u=k(r??l);return d.createElement(p.Provider,{value:u},t,u===null&&d.createElement(v,{features:y.Hidden,ref:n=>{var a,o;if(n){for(let e of(o=(a=m(n))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?o:[])if(e!==document.body&&e!==document.head&&s(e)&&e!=null&&e.contains(n)){i(e);break}}}}))}function k(t=null){var r;return(r=c.useContext(p))!=null?r:t}var w=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(w||{});function F(){let t=c.useRef(0);return b(!0,"keydown",r=>{r.key==="Tab"&&(t.current=r.shiftKey?1:0)},!0),t}export{A as S,w as a,B as j,F as u,k as x};
