import{Y as Z,M as _,r as t,H as z,K as F,C as l,a3 as Q,a1 as ee,y as te,q as ae,o as m,s as C,as as re,$ as se,b as le,w as oe,d as ue,V as ne}from"./index-CvCVbuS9.js";import{l as ce,b as ie}from"./use-default-value-Cs7QsSkB.js";import{e as de}from"./use-resolve-button-type-J0J8N5g4.js";import{g as pe,j as fe}from"./form-fields-DfbHTuSb.js";import{Z as me,V as be,u as he,N as ve}from"./label-CY_Q6YdE.js";import{s as $e}from"./bugs-qQ_SbDk4.js";let w=t.createContext(null);w.displayName="GroupContext";let ge=t.Fragment;function ke(s){var n;let[a,c]=t.useState(null),[b,h]=be(),[v,r]=z(),i=t.useMemo(()=>({switch:a,setSwitch:c}),[a,c]),$={},g=s,d=F();return l.createElement(r,{name:"Switch.Description",value:v},l.createElement(h,{name:"Switch.Label",value:b,props:{htmlFor:(n=i.switch)==null?void 0:n.id,onClick(p){a&&(Q(p.currentTarget)&&p.preventDefault(),a.click(),a.focus({preventScroll:!0}))}}},l.createElement(w.Provider,{value:i},d({ourProps:$,theirProps:g,slot:{},defaultTag:ge,name:"Switch.Group"}))))}let we="button";function xe(s,n){var a;let c=t.useId(),b=he(),h=ee(),{id:v=b||`headlessui-switch-${c}`,disabled:r=h||!1,checked:i,defaultChecked:$,onChange:g,name:d,value:p,form:P,autoFocus:k=!1,...D}=s,x=t.useContext(w),[E,T]=t.useState(null),G=t.useRef(null),I=te(G,n,x===null?null:x.setSwitch,T),o=ce($),[f,u]=ie(i,g,o??!1),V=ae(),[K,y]=t.useState(!1),S=m(()=>{y(!0),u?.(!f),V.nextFrame(()=>{y(!1)})}),L=m(e=>{if($e(e.currentTarget))return e.preventDefault();e.preventDefault(),S()}),R=m(e=>{e.key===C.Space?(e.preventDefault(),S()):e.key===C.Enter&&pe(e.currentTarget)}),j=m(e=>e.preventDefault()),H=ve(),M=re(),{isFocusVisible:N,focusProps:q}=se({autoFocus:k}),{isHovered:A,hoverProps:O}=le({isDisabled:r}),{pressed:U,pressProps:B}=oe({disabled:r}),J=ue({checked:f,disabled:r,hover:A,focus:N,active:U,autofocus:k,changing:K}),W=ne({id:v,ref:I,role:"switch",type:de(s,E),tabIndex:s.tabIndex===-1?0:(a=s.tabIndex)!=null?a:0,"aria-checked":f,"aria-labelledby":H,"aria-describedby":M,disabled:r||void 0,autoFocus:k,onClick:L,onKeyUp:R,onKeyPress:j},q,O,B),X=t.useCallback(()=>{if(o!==void 0)return u?.(o)},[u,o]),Y=F();return l.createElement(l.Fragment,null,d!=null&&l.createElement(fe,{disabled:r,data:{[d]:p||"on"},overrides:{type:"checkbox",checked:f},form:P,onReset:X}),Y({ourProps:W,theirProps:D,slot:J,defaultTag:we,name:"Switch"}))}let ye=Z(xe),Se=ke,Ce=me,Fe=_,Ve=Object.assign(ye,{Group:Se,Label:Ce,Description:Fe});export{Ve as t};
