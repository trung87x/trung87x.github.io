import{r as o,aV as fe,G as F,Z as Q,_ as pe,Y as U,aA as _,I as W,n as V,o as E,P as K,a9 as G,K as N,$ as ee,V as te,a8 as B,aC as q,aJ as be,b as P,aB as C,aW as xe,d as ge,e as ve,at as Z,al as T}from"./index-BAlIhux4.js";import{e as me}from"./use-resolve-button-type-BZ3Cw4aC.js";function Pe({onFocus:e}){let[t,n]=o.useState(!0),r=fe();return t?F.createElement(Q,{as:"button",type:"button",features:pe.Focusable,onFocus:l=>{l.preventDefault();let a,s=50;function i(){if(s--<=0){a&&cancelAnimationFrame(a);return}if(e()){if(cancelAnimationFrame(a),!r.current)return;n(!1);return}a=requestAnimationFrame(i)}a=requestAnimationFrame(i)}}):null}const re=o.createContext(null);function Te(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let l=(n=r.get(t))!=null?n:0;r.set(t,l+1);let a=Array.from(r.keys()).indexOf(t);function s(){let i=r.get(t);i>1?r.set(t,i-1):r.delete(t)}return[a,s]}}}function $e({children:e}){let t=o.useRef(Te());return o.createElement(re.Provider,{value:t},e)}function ne(e){let t=o.useContext(re);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=o.useId(),[r,l]=t.current.get(e,n);return o.useEffect(()=>l,[]),r}var he=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(he||{}),Ie=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Ie||{}),ye=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(ye||{});let we={0(e,t){var n;let r=G(e.tabs,c=>c.current),l=G(e.panels,c=>c.current),a=r.filter(c=>{var g;return!((g=c.current)!=null&&g.hasAttribute("disabled"))}),s={...e,tabs:r,panels:l};if(t.index<0||t.index>r.length-1){let c=B(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>B(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(a.length===0)return s;let g=B(c,{0:()=>r.indexOf(a[0]),1:()=>r.indexOf(a[a.length-1])});return{...s,selectedIndex:g===-1?e.selectedIndex:g}}let i=r.slice(0,t.index),$=[...r.slice(t.index),...i].find(c=>a.includes(c));if(!$)return s;let x=(n=r.indexOf($))!=null?n:e.selectedIndex;return x===-1&&(x=e.selectedIndex),{...s,selectedIndex:x}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=G([...e.tabs,t.tab],a=>a.current),l=e.selectedIndex;return e.info.current.isControlled||(l=r.indexOf(n),l===-1&&(l=e.selectedIndex)),{...e,tabs:r,selectedIndex:l}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:G([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},H=o.createContext(null);H.displayName="TabsDataContext";function k(e){let t=o.useContext(H);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,k),n}return t}let J=o.createContext(null);J.displayName="TabsActionsContext";function Y(e){let t=o.useContext(J);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Y),n}return t}function Ee(e,t){return B(t.type,we,e,t)}let Ae="div";function Se(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:l=!1,onChange:a,selectedIndex:s=null,...i}=e;const $=r?"vertical":"horizontal",x=l?"manual":"auto";let c=s!==null,g=_({isControlled:c}),A=W(t),[p,d]=o.useReducer(Ee,{info:g,selectedIndex:s??n,tabs:[],panels:[]}),D=V({selectedIndex:p.selectedIndex}),R=_(a||(()=>{})),I=_(p.tabs),b=o.useMemo(()=>({orientation:$,activation:x,...p}),[$,x,p]),L=E(f=>(d({type:1,tab:f}),()=>d({type:2,tab:f}))),M=E(f=>(d({type:3,panel:f}),()=>d({type:4,panel:f}))),v=E(f=>{m.current!==f&&R.current(f),c||d({type:0,index:f})}),m=_(c?e.selectedIndex:p.selectedIndex),w=o.useMemo(()=>({registerTab:L,registerPanel:M,change:v}),[]);K(()=>{d({type:0,index:s??n})},[s]),K(()=>{if(m.current===void 0||p.tabs.length<=0)return;let f=G(p.tabs,y=>y.current);f.some((y,S)=>p.tabs[S]!==y)&&v(f.indexOf(p.tabs[m.current]))});let j={ref:A},O=N();return F.createElement($e,null,F.createElement(J.Provider,{value:w},F.createElement(H.Provider,{value:b},b.tabs.length<=0&&F.createElement(Pe,{onFocus:()=>{var f,y;for(let S of I.current)if(((f=S.current)==null?void 0:f.tabIndex)===0)return(y=S.current)==null||y.focus(),!0;return!1}}),O({ourProps:j,theirProps:i,slot:D,defaultTag:Ae,name:"Tabs"}))))}let Ce="div";function Fe(e,t){let{orientation:n,selectedIndex:r}=k("Tab.List"),l=W(t),a=V({selectedIndex:r}),s=e,i={ref:l,role:"tablist","aria-orientation":n};return N()({ourProps:i,theirProps:s,slot:a,defaultTag:Ce,name:"Tabs.List"})}let ke="button";function De(e,t){var n,r;let l=o.useId(),{id:a=`headlessui-tabs-tab-${l}`,disabled:s=!1,autoFocus:i=!1,...$}=e,{orientation:x,activation:c,selectedIndex:g,tabs:A,panels:p}=k("Tab"),d=Y("Tab"),D=k("Tab"),[R,I]=o.useState(null),b=o.useRef(null),L=W(b,t,I);K(()=>d.registerTab(b),[d,b]);let M=ne("tabs"),v=A.indexOf(b);v===-1&&(v=M);let m=v===g,w=E(u=>{let h=u();if(h===q.Success&&c==="auto"){let z=be(b.current),X=D.tabs.findIndex(de=>de.current===z);X!==-1&&d.change(X)}return h}),j=E(u=>{let h=A.map(z=>z.current).filter(Boolean);if(u.key===P.Space||u.key===P.Enter){u.preventDefault(),u.stopPropagation(),d.change(v);return}switch(u.key){case P.Home:case P.PageUp:return u.preventDefault(),u.stopPropagation(),w(()=>C(h,T.First));case P.End:case P.PageDown:return u.preventDefault(),u.stopPropagation(),w(()=>C(h,T.Last))}if(w(()=>B(x,{vertical(){return u.key===P.ArrowUp?C(h,T.Previous|T.WrapAround):u.key===P.ArrowDown?C(h,T.Next|T.WrapAround):q.Error},horizontal(){return u.key===P.ArrowLeft?C(h,T.Previous|T.WrapAround):u.key===P.ArrowRight?C(h,T.Next|T.WrapAround):q.Error}}))===q.Success)return u.preventDefault()}),O=o.useRef(!1),f=E(()=>{var u;O.current||(O.current=!0,(u=b.current)==null||u.focus({preventScroll:!0}),d.change(v),xe(()=>{O.current=!1}))}),y=E(u=>{u.preventDefault()}),{isFocusVisible:S,focusProps:ae}=ee({autoFocus:i}),{isHovered:se,hoverProps:le}=ge({isDisabled:s}),{pressed:ue,pressProps:oe}=ve({disabled:s}),ie=V({selected:m,hover:se,active:ue,focus:S,autofocus:i,disabled:s}),ce=te({ref:L,onKeyDown:j,onMouseDown:y,onClick:f,id:a,role:"tab",type:me(e,R),"aria-controls":(r=(n=p[v])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":m,tabIndex:m?0:-1,disabled:s||void 0,autoFocus:i},ae,le,oe);return N()({ourProps:ce,theirProps:$,slot:ie,defaultTag:ke,name:"Tabs.Tab"})}let Re="div";function Le(e,t){let{selectedIndex:n}=k("Tab.Panels"),r=W(t),l=V({selectedIndex:n}),a=e,s={ref:r};return N()({ourProps:s,theirProps:a,slot:l,defaultTag:Re,name:"Tabs.Panels"})}let Me="div",Oe=Z.RenderStrategy|Z.Static;function Ge(e,t){var n,r,l,a;let s=o.useId(),{id:i=`headlessui-tabs-panel-${s}`,tabIndex:$=0,...x}=e,{selectedIndex:c,tabs:g,panels:A}=k("Tab.Panel"),p=Y("Tab.Panel"),d=o.useRef(null),D=W(d,t);K(()=>p.registerPanel(d),[p,d]);let R=ne("panels"),I=A.indexOf(d);I===-1&&(I=R);let b=I===c,{isFocusVisible:L,focusProps:M}=ee(),v=V({selected:b,focus:L}),m=te({ref:D,id:i,role:"tabpanel","aria-labelledby":(r=(n=g[I])==null?void 0:n.current)==null?void 0:r.id,tabIndex:b?$:-1},M),w=N();return!b&&((l=x.unmount)==null||l)&&!((a=x.static)!=null&&a)?F.createElement(Q,{"aria-hidden":"true",...m}):w({ourProps:m,theirProps:x,slot:v,defaultTag:Me,features:Oe,visible:b,name:"Tabs.Panel"})}let Be=U(De),Ue=U(Se),We=U(Fe),Ve=U(Le),Ne=U(Ge),Ke=Object.assign(Be,{Group:Ue,List:We,Panels:Ve,Panel:Ne});export{Ue as B,Ne as K,We as W,Ke as d,Ve as j};
