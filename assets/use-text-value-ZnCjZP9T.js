import{r as o}from"./index-BaldAqAP.js";import{n as F}from"./keyboard-BIuMz1eD.js";import{o as c}from"./use-sync-refs-CKmdBV6A.js";let f=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function a(r){var u,n;let t=(u=r.innerText)!=null?u:"",l=r.cloneNode(!0);if(!F(l))return t;let e=!1;for(let m of l.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))m.remove(),e=!0;let i=e?(n=l.innerText)!=null?n:"":t;return f.test(i)&&(i=i.replace(f,"")),i}function s(r){let u=r.getAttribute("aria-label");if(typeof u=="string")return u.trim();let n=r.getAttribute("aria-labelledby");if(n){let t=n.split(" ").map(l=>{let e=document.getElementById(l);if(e){let i=e.getAttribute("aria-label");return typeof i=="string"?i.trim():a(e).trim()}return null}).filter(Boolean);if(t.length>0)return t.join(", ")}return a(r).trim()}function d(r){let u=o.useRef(""),n=o.useRef("");return c(()=>{let t=r.current;if(!t)return"";let l=t.innerText;if(u.current===l)return n.current;let e=s(t).trim().toLowerCase();return u.current=l,n.current=e,e})}export{d as s};
