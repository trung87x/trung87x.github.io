import{Y as N,M as fe,r as i,a1 as Z,y as H,as as me,ak as J,E as _,o as V,$ as ee,b as re,V as ae,d as K,K as j,H as te,s as C,m as U,ah as Q,aq as X,C as E,u as be,v as M,G as ve}from"./index-CvCVbuS9.js";import{u as Re}from"./use-by-comparator-Ch7KvTmY.js";import{l as $e,b as ge}from"./use-default-value-Cs7QsSkB.js";import{g as he,j as ke}from"./form-fields-DfbHTuSb.js";import{Z as ye,u as xe,N as Ee,V as oe}from"./label-CY_Q6YdE.js";import{s as ie}from"./bugs-qQ_SbDk4.js";var Pe=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Pe||{});let Ge={0(e,r){let o=[...e.options,{id:r.id,element:r.element,propsRef:r.propsRef}];return{...e,options:ve(o,a=>a.element.current)}},1(e,r){let o=e.options.slice(),a=e.options.findIndex(c=>c.id===r.id);return a===-1?e:(o.splice(a,1),{...e,options:o})}},W=i.createContext(null);W.displayName="RadioGroupDataContext";function q(e){let r=i.useContext(W);if(r===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,q),o}return r}let Y=i.createContext(null);Y.displayName="RadioGroupActionsContext";function z(e){let r=i.useContext(Y);if(r===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,z),o}return r}function Oe(e,r){return be(r.type,Ge,e,r)}let De="div";function Te(e,r){let o=i.useId(),a=Z(),{id:c=`headlessui-radiogroup-${o}`,value:I,form:R,name:$,onChange:u,by:b,disabled:l=a||!1,defaultValue:f,tabIndex:P=0,...g}=e,v=Re(b),[k,G]=i.useReducer(Oe,{options:[]}),s=k.options,[w,F]=oe(),[O,A]=te(),D=i.useRef(null),S=H(D,r),d=$e(f),[p,T]=ge(I,u,d),y=i.useMemo(()=>s.find(t=>!t.propsRef.current.disabled),[s]),h=i.useMemo(()=>s.some(t=>v(t.propsRef.current.value,p)),[s,p]),m=V(t=>{var L;if(l||v(t,p))return!1;let n=(L=s.find(x=>v(x.propsRef.current.value,t)))==null?void 0:L.propsRef.current;return n!=null&&n.disabled?!1:(T?.(t),!0)}),se=V(t=>{if(!D.current)return;let L=s.filter(n=>n.propsRef.current.disabled===!1).map(n=>n.element.current);switch(t.key){case C.Enter:he(t.currentTarget);break;case C.ArrowLeft:case C.ArrowUp:if(t.preventDefault(),t.stopPropagation(),Q(L,M.Previous|M.WrapAround)===X.Success){let n=s.find(x=>U(x.element.current));n&&m(n.propsRef.current.value)}break;case C.ArrowRight:case C.ArrowDown:if(t.preventDefault(),t.stopPropagation(),Q(L,M.Next|M.WrapAround)===X.Success){let n=s.find(x=>U(x.element.current));n&&m(n.propsRef.current.value)}break;case C.Space:{t.preventDefault(),t.stopPropagation();let n=s.find(x=>U(x.element.current));n&&m(n.propsRef.current.value)}break}}),B=V(t=>(G({type:0,...t}),()=>G({type:1,id:t.id}))),ne=i.useMemo(()=>({value:p,firstOption:y,containsCheckedOption:h,disabled:l,compare:v,tabIndex:P,...k}),[p,y,h,l,v,P,k]),ue=i.useMemo(()=>({registerOption:B,change:m}),[B,m]),le={ref:S,id:c,role:"radiogroup","aria-labelledby":w,"aria-describedby":O,onKeyDown:se},de=K({value:p}),pe=i.useCallback(()=>{if(d!==void 0)return m(d)},[m,d]),ce=j();return E.createElement(A,{name:"RadioGroup.Description"},E.createElement(F,{name:"RadioGroup.Label"},E.createElement(Y.Provider,{value:ue},E.createElement(W.Provider,{value:ne},$!=null&&E.createElement(ke,{disabled:l,data:{[$]:p||"on"},overrides:{type:"radio",checked:p!=null},form:R,onReset:pe}),ce({ourProps:le,theirProps:g,slot:de,defaultTag:De,name:"RadioGroup"})))))}let Ce="div";function Ie(e,r){var o;let a=q("RadioGroup.Option"),c=z("RadioGroup.Option"),I=i.useId(),{id:R=`headlessui-radiogroup-option-${I}`,value:$,disabled:u=a.disabled||!1,autoFocus:b=!1,...l}=e,f=i.useRef(null),P=H(f,r),[g,v]=oe(),[k,G]=te(),s=J({value:$,disabled:u});_(()=>c.registerOption({id:R,element:f,propsRef:s}),[R,c,f,s]);let w=V(h=>{var m;if(ie(h.currentTarget))return h.preventDefault();c.change($)&&((m=f.current)==null||m.focus())}),F=((o=a.firstOption)==null?void 0:o.id)===R,{isFocusVisible:O,focusProps:A}=ee({autoFocus:b}),{isHovered:D,hoverProps:S}=re({isDisabled:u}),d=a.compare(a.value,$),p=ae({ref:P,id:R,role:"radio","aria-checked":d?"true":"false","aria-labelledby":g,"aria-describedby":k,"aria-disabled":u?!0:void 0,tabIndex:u?-1:d||!a.containsCheckedOption&&F?a.tabIndex:-1,onClick:u?void 0:w,autoFocus:b},A,S),T=K({checked:d,disabled:u,active:O,hover:D,focus:O,autofocus:b}),y=j();return E.createElement(G,{name:"RadioGroup.Description"},E.createElement(v,{name:"RadioGroup.Label"},y({ourProps:p,theirProps:l,slot:T,defaultTag:Ce,name:"RadioGroup.Option"})))}let we="span";function Fe(e,r){var o;let a=q("Radio"),c=z("Radio"),I=i.useId(),R=xe(),$=Z(),{id:u=R||`headlessui-radio-${I}`,value:b,disabled:l=a.disabled||$||!1,autoFocus:f=!1,...P}=e,g=i.useRef(null),v=H(g,r),k=Ee(),G=me(),s=J({value:b,disabled:l});_(()=>c.registerOption({id:u,element:g,propsRef:s}),[u,c,g,s]);let w=V(y=>{var h;if(ie(y.currentTarget))return y.preventDefault();c.change(b)&&((h=g.current)==null||h.focus())}),{isFocusVisible:F,focusProps:O}=ee({autoFocus:f}),{isHovered:A,hoverProps:D}=re({isDisabled:l}),S=((o=a.firstOption)==null?void 0:o.id)===u,d=a.compare(a.value,b),p=ae({ref:v,id:u,role:"radio","aria-checked":d?"true":"false","aria-labelledby":k,"aria-describedby":G,"aria-disabled":l?!0:void 0,tabIndex:l?-1:d||!a.containsCheckedOption&&S?a.tabIndex:-1,autoFocus:f,onClick:l?void 0:w},O,D),T=K({checked:d,disabled:l,hover:A,focus:F,autofocus:f});return j()({ourProps:p,theirProps:P,slot:T,defaultTag:we,name:"Radio"})}let Ae=N(Te),Se=N(Ie),Le=N(Fe),Ve=ye,Me=fe,qe=Object.assign(Ae,{Option:Se,Radio:Le,Label:Ve,Description:Me});export{Le as K,qe as y};
