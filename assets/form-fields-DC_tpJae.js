import{r as u,G as o}from"./index-BUE_4nSx.js";import{r as b}from"./index-5-nG4q7h.js";import{p as h,m as O}from"./render-CNyBWpu3.js";import{f,s as i}from"./hidden-c0o-GYKL.js";function m(r={},t=null,e=[]){for(let[n,l]of Object.entries(r))d(e,c(t,n),l);return e}function c(r,t){return r?r+"["+t+"]":t}function d(r,t,e){if(Array.isArray(e))for(let[n,l]of e.entries())d(r,c(t,n.toString()),l);else e instanceof Date?r.push([t,e.toISOString()]):typeof e=="boolean"?r.push([t,e?"1":"0"]):typeof e=="string"?r.push([t,e]):typeof e=="number"?r.push([t,`${e}`]):e==null?r.push([t,""]):j(e)&&!u.isValidElement(e)&&m(e,t,r)}function x(r){var t,e;let n=(t=r?.form)!=null?t:r.closest("form");if(n){for(let l of n.elements)if(l!==r&&(l.tagName==="INPUT"&&l.type==="submit"||l.tagName==="BUTTON"&&l.type==="submit"||l.nodeName==="INPUT"&&l.type==="image")){l.click();return}(e=n.requestSubmit)==null||e.call(n)}}function j(r){if(Object.prototype.toString.call(r)!=="[object Object]")return!1;let t=Object.getPrototypeOf(r);return t===null||Object.getPrototypeOf(t)===null}let p=u.createContext(null);function F(r){let[t,e]=u.useState(null);return o.createElement(p.Provider,{value:{target:t}},r.children,o.createElement(f,{features:i.Hidden,ref:e}))}function v({children:r}){let t=u.useContext(p);if(!t)return o.createElement(o.Fragment,null,r);let{target:e}=t;return e?b.createPortal(o.createElement(o.Fragment,null,r),e):null}function T({data:r,form:t,disabled:e,onReset:n,overrides:l}){let[a,y]=u.useState(null),g=h();return u.useEffect(()=>{if(n&&a)return g.addEventListener(a,"reset",n)},[a,t,n]),o.createElement(v,null,o.createElement(S,{setForm:y,formId:t}),m(r).map(([s,E])=>o.createElement(f,{features:i.Hidden,...O({key:s,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:e,name:s,value:E,...l})})))}function S({setForm:r,formId:t}){return u.useEffect(()=>{if(t){let e=document.getElementById(t);e&&r(e)}},[r,t]),t?null:o.createElement(f,{features:i.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:e=>{if(!e)return;let n=e.closest("form");n&&r(n)}})}export{F as W,x as g,T as j};
