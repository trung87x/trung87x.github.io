import{r as l,o as E,t as p,C as a,ae as d,af as m,s as v,at as O}from"./index-DbKGKPLT.js";function P(t,e,r){let[n,u]=l.useState(r),o=t!==void 0,s=l.useRef(o),f=l.useRef(!1),c=l.useRef(!1);return o&&!s.current&&!f.current?(f.current=!0,s.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&s.current&&!c.current&&(c.current=!0,s.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?t:n,E(i=>(o||p.flushSync(()=>u(i)),e?.(i)))]}function T(t){let[e]=l.useState(t);return e}function h(t={},e=null,r=[]){for(let[n,u]of Object.entries(t))y(r,g(e,n),u);return r}function g(t,e){return t?t+"["+e+"]":e}function y(t,e,r){if(Array.isArray(r))for(let[n,u]of r.entries())y(t,g(e,n.toString()),u);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):S(r)&&!l.isValidElement(r)&&h(r,e,t)}function $(t){var e,r;let n=(e=t?.form)!=null?e:t.closest("form");if(n){for(let u of n.elements)if(u!==t&&(u.tagName==="INPUT"&&u.type==="submit"||u.tagName==="BUTTON"&&u.type==="submit"||u.nodeName==="INPUT"&&u.type==="image")){u.click();return}(r=n.requestSubmit)==null||r.call(n)}}function S(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}let b=l.createContext(null);function x(t){let[e,r]=l.useState(null);return a.createElement(b.Provider,{value:{target:e}},t.children,a.createElement(d,{features:m.Hidden,ref:r}))}function j({children:t}){let e=l.useContext(b);if(!e)return a.createElement(a.Fragment,null,t);let{target:r}=e;return r?p.createPortal(a.createElement(a.Fragment,null,t),r):null}function A({data:t,form:e,disabled:r,onReset:n,overrides:u}){let[o,s]=l.useState(null),f=v();return l.useEffect(()=>{if(n&&o)return f.addEventListener(o,"reset",n)},[o,e,n]),a.createElement(j,null,a.createElement(I,{setForm:s,formId:e}),h(t).map(([c,i])=>a.createElement(d,{features:m.Hidden,...O({key:c,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:r,name:c,value:i,...u})})))}function I({setForm:t,formId:e}){return l.useEffect(()=>{if(e){let r=document.getElementById(e);r&&t(r)}},[t,e]),e?null:a.createElement(d,{features:m.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest("form");n&&t(n)}})}export{x as W,P as b,$ as g,A as j,T as l};
