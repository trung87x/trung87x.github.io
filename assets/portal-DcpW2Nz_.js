import{a as ie,r as c,G as O}from"./index-BUE_4nSx.js";import{a as k,s as T,u as ae,o as b,n as Z,b as W,t as ce,Y as V,K as z,p as de}from"./render-CNyBWpu3.js";import{n as fe,i as $,u as pe,r as he,l as me}from"./dom-BlW_0b_t.js";import{H as ve,I as be}from"./focus-management-C0S51YJM.js";import{r as ge}from"./index-5-nG4q7h.js";import{l as we,r as ye}from"./owner-C7ikqkQc.js";import{y as Y,T as Ee}from"./use-sync-refs-Dh0umLOC.js";let ee=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var $e=Object.defineProperty,Se=(e,t,r)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pe=(e,t,r)=>(Se(e,t+"",r),r),te=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},p=(e,t,r)=>(te(e,t,"read from private field"),r?r.call(e):t.get(e)),L=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},U=(e,t,r,n)=>(te(e,t,"write to private field"),t.set(e,r),r),m,S,P;class Oe{constructor(t){L(this,m,{}),L(this,S,new ee(()=>new Set)),L(this,P,new Set),Pe(this,"disposables",k()),U(this,m,t),T.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return p(this,m)}subscribe(t,r){if(T.isServer)return()=>{};let n={selector:t,callback:r,current:t(p(this,m))};return p(this,P).add(n),this.disposables.add(()=>{p(this,P).delete(n)})}on(t,r){return T.isServer?()=>{}:(p(this,S).get(t).add(r),this.disposables.add(()=>{p(this,S).get(t).delete(r)}))}send(t){let r=this.reduce(p(this,m),t);if(r!==p(this,m)){U(this,m,r);for(let n of p(this,P)){let o=n.selector(p(this,m));re(n.current,o)||(n.current=o,n.callback(o))}for(let n of p(this,S).get(t.type))n(p(this,m),t)}}}m=new WeakMap,S=new WeakMap,P=new WeakMap;function re(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:j(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:j(e.entries(),t.entries()):G(e)&&G(t)?j(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function j(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function G(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function ct(e){let[t,r]=e(),n=k();return(...o)=>{t(...o),n.dispose(),n.microTask(r)}}var ke=Object.defineProperty,xe=(e,t,r)=>t in e?ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,X=(e,t,r)=>(xe(e,typeof t!="symbol"?t+"":t,r),r),Me=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Me||{});let Re={0(e,t){let r=t.id,n=e.stack,o=e.stack.indexOf(r);if(o!==-1){let u=e.stack.slice();return u.splice(o,1),u.push(r),n=u,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let o=e.stack.slice();return o.splice(n,1),{...e,stack:o}}},Ce=class ne extends Oe{constructor(){super(...arguments),X(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),X(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new ne({stack:[]})}reduce(t,r){return ae(r.type,Re,t,r)}};const Te=new ee(()=>Ce.new());var A={exports:{}},D={};var q;function We(){if(q)return D;q=1;var e=ie();function t(l,a){return l===a&&(l!==0||1/l===1/a)||l!==l&&a!==a}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,o=e.useRef,u=e.useEffect,i=e.useMemo,s=e.useDebugValue;return D.useSyncExternalStoreWithSelector=function(l,a,f,h,d){var w=o(null);if(w.current===null){var y={hasValue:!1,value:null};w.current=y}else y=w.current;w=i(function(){function _(v){if(!N){if(N=!0,M=v,v=h(v),d!==void 0&&y.hasValue){var E=y.value;if(d(E,v))return R=E}return R=v}if(E=R,r(M,v))return E;var H=h(v);return d!==void 0&&d(E,H)?(M=v,E):(M=v,R=H)}var N=!1,M,R,B=f===void 0?null:f;return[function(){return _(a())},B===null?void 0:function(){return _(B())}]},[a,f,h,d]);var x=n(l,w[0],w[1]);return u(function(){y.hasValue=!0,y.value=x},[x]),s(x),x},D}var F;function Le(){return F||(F=1,A.exports=We()),A.exports}var je=Le();function Ae(e,t,r=re){return je.useSyncExternalStoreWithSelector(b(n=>e.subscribe(De,n)),b(()=>e.state),b(()=>e.state),b(t),r)}function De(e){return e}function Ie(e,t){let r=c.useId(),n=Te.get(t),[o,u]=Ae(n,c.useCallback(i=>[n.selectors.isTop(i,r),n.selectors.inStack(i,r)],[n,r]));return Z(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?u?o:!0:!1}function dt(e,t,r){let n=W(o=>{let u=o.getBoundingClientRect();u.x===0&&u.y===0&&u.width===0&&u.height===0&&r()});c.useEffect(()=>{if(!e)return;let o=t===null?null:fe(t)?t:t.current;if(!o)return;let u=k();if(typeof ResizeObserver<"u"){let i=new ResizeObserver(()=>n.current(o));i.observe(o),u.add(()=>i.disconnect())}if(typeof IntersectionObserver<"u"){let i=new IntersectionObserver(()=>n.current(o));i.observe(o),u.add(()=>i.disconnect())}return()=>u.dispose()},[t,n,e])}function oe(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Ve(){return/Android/gi.test(window.navigator.userAgent)}function J(){return oe()||Ve()}function C(e,t,r,n){let o=W(r);c.useEffect(()=>{if(!e)return;function u(i){o.current(i)}return document.addEventListener(t,u,n),()=>document.removeEventListener(t,u,n)},[e,t,n])}function ze(e,t,r,n){let o=W(r);c.useEffect(()=>{if(!e)return;function u(i){o.current(i)}return window.addEventListener(t,u,n),()=>window.removeEventListener(t,u,n)},[e,t,n])}const K=30;function ft(e,t,r){let n=W(r),o=c.useCallback(function(s,l){if(s.defaultPrevented)return;let a=l(s);if(a===null||!a.getRootNode().contains(a)||!a.isConnected)return;let f=(function h(d){return typeof d=="function"?h(d()):Array.isArray(d)||d instanceof Set?d:[d]})(t);for(let h of f)if(h!==null&&(h.contains(a)||s.composed&&s.composedPath().includes(h)))return;return!ve(a,be.Loose)&&a.tabIndex!==-1&&s.preventDefault(),n.current(s,a)},[n,t]),u=c.useRef(null);C(e,"pointerdown",s=>{var l,a;J()||(u.current=((a=(l=s.composedPath)==null?void 0:l.call(s))==null?void 0:a[0])||s.target)},!0),C(e,"pointerup",s=>{if(J()||!u.current)return;let l=u.current;return u.current=null,o(s,()=>l)},!0);let i=c.useRef({x:0,y:0});C(e,"touchstart",s=>{i.current.x=s.touches[0].clientX,i.current.y=s.touches[0].clientY},!0),C(e,"touchend",s=>{let l={x:s.changedTouches[0].clientX,y:s.changedTouches[0].clientY};if(!(Math.abs(l.x-i.current.x)>=K||Math.abs(l.y-i.current.y)>=K))return o(s,()=>$(s.target)?s.target:null)},!0),ze(e,"blur",s=>o(s,()=>pe(window.document.activeElement)?window.document.activeElement:null),!0)}function Ye(...e){return c.useMemo(()=>we(...e),[...e])}function pt(...e){return c.useMemo(()=>ye(...e),[...e])}function _e(e){return c.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function Ne(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(o){return n.add(o),()=>n.delete(o)},dispatch(o,...u){let i=t[o].call(r,...u);i&&(r=i,n.forEach(s=>s()))}}}function Be(){let e;return{before({doc:t}){var r;let n=t.documentElement,o=(r=t.defaultView)!=null?r:window;e=Math.max(0,o.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,o=Math.max(0,n.clientWidth-n.offsetWidth),u=Math.max(0,e-o);r.style(n,"paddingRight",`${u}px`)}}}function He(){return oe()?{before({doc:e,d:t,meta:r}){function n(o){for(let u of r().containers)for(let i of u())if(i.contains(o))return!0;return!1}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=k();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let u=(o=window.scrollY)!=null?o:window.pageYOffset,i=null;t.addEventListener(e,"click",s=>{if($(s.target))try{let l=s.target.closest("a");if(!l)return;let{hash:a}=new URL(l.href),f=e.querySelector(a);$(f)&&!n(f)&&(i=f)}catch{}},!0),t.group(s=>{t.addEventListener(e,"touchstart",l=>{if(s.dispose(),$(l.target)&&he(l.target))if(n(l.target)){let a=l.target;for(;a.parentElement&&n(a.parentElement);)a=a.parentElement;s.style(a,"overscrollBehavior","contain")}else s.style(l.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",s=>{if($(s.target)){if(me(s.target))return;if(n(s.target)){let l=s.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let l=(s=window.scrollY)!=null?s:window.pageYOffset;u!==l&&window.scrollTo(0,u),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function Ue(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Q(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let g=Ne(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:k(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=Q(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=Q(r.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},r=[He(),Be(),Ue()];r.forEach(({before:n})=>n?.(t)),r.forEach(({after:n})=>n?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});g.subscribe(()=>{let e=g.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",o=r.count!==0;(o&&!n||!o&&n)&&g.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&g.dispatch("TEARDOWN",r)}});function Ge(e,t,r=()=>({containers:[]})){let n=_e(g),o=t?n.get(t):void 0,u=o?o.count>0:!1;return Z(()=>{if(!(!t||!e))return g.dispatch("PUSH",t,r),()=>g.dispatch("POP",t,r)},[e,t]),u}function ht(e,t,r=()=>[document.body]){let n=Ie(e,"scroll-lock");Ge(n,t,o=>{var u;return{containers:[...(u=o.containers)!=null?u:[],r]}})}function Xe(e){let t=b(e),r=c.useRef(!1);c.useEffect(()=>(r.current=!1,()=>{r.current=!0,ce(()=>{r.current&&t()})}),[t])}let ue=c.createContext(!1);function qe(){return c.useContext(ue)}function mt(e){return O.createElement(ue.Provider,{value:e.force},e.children)}function Fe(e){let t=qe(),r=c.useContext(le),[n,o]=c.useState(()=>{var u;if(!t&&r!==null)return(u=r.current)!=null?u:null;if(T.isServer)return null;let i=e?.getElementById("headlessui-portal-root");if(i)return i;if(e===null)return null;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)});return c.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),c.useEffect(()=>{t||r!==null&&o(r.current)},[r,o,t]),n}let se=c.Fragment,Je=V(function(e,t){let{ownerDocument:r=null,...n}=e,o=c.useRef(null),u=Y(Ee(d=>{o.current=d}),t),i=Ye(o.current),s=r??i,l=Fe(s),a=c.useContext(I),f=de(),h=z();return Xe(()=>{var d;l&&l.childNodes.length<=0&&((d=l.parentElement)==null||d.removeChild(l))}),l?ge.createPortal(O.createElement("div",{"data-headlessui-portal":"",ref:d=>{f.dispose(),a&&d&&f.add(a.register(d))}},h({ourProps:{ref:u},theirProps:n,slot:{},defaultTag:se,name:"Portal"})),l):null});function Ke(e,t){let r=Y(t),{enabled:n=!0,ownerDocument:o,...u}=e,i=z();return n?O.createElement(Je,{...u,ownerDocument:o,ref:r}):i({ourProps:{ref:r},theirProps:u,slot:{},defaultTag:se,name:"Portal"})}let Qe=c.Fragment,le=c.createContext(null);function Ze(e,t){let{target:r,...n}=e,o={ref:Y(t)},u=z();return O.createElement(le.Provider,{value:r},u({ourProps:o,theirProps:n,defaultTag:Qe,name:"Popover.Group"}))}let I=c.createContext(null);function vt(){let e=c.useContext(I),t=c.useRef([]),r=b(u=>(t.current.push(u),e&&e.register(u),()=>n(u))),n=b(u=>{let i=t.current.indexOf(u);i!==-1&&t.current.splice(i,1),e&&e.unregister(u)}),o=c.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,c.useMemo(()=>function({children:u}){return O.createElement(I.Provider,{value:o},u)},[o])]}let et=V(Ke),tt=V(Ze),bt=Object.assign(et,{Group:tt});export{Ie as I,Ae as S,Oe as T,tt as X,ct as a,Me as b,Xe as c,pt as d,vt as e,ht as f,C as i,ft as k,mt as l,J as n,dt as p,ze as s,bt as t,Ye as u,Te as x};
