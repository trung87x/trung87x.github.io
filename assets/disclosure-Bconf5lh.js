import{C as b,Y as x,r as s,y as T,o as I,$ as j,b as J,w as Q,d as h,V as A,K as k,f as Y,N as q,i as g,B as z,a7 as W,a8 as Z,a9 as ee,a0 as te,_ as X,aa as le,P as se,u as w,Q as G,s as D}from"./index-CvCVbuS9.js";import{e as ne}from"./use-resolve-button-type-J0J8N5g4.js";import{s as re}from"./bugs-qQ_SbDk4.js";var H;let ae=(H=b.startTransition)!=null?H:function(e){e()};var oe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(oe||{}),ue=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(ue||{});let ce={0:e=>({...e,disclosureState:w(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},B=s.createContext(null);B.displayName="DisclosureContext";function F(e){let t=s.useContext(B);if(t===null){let u=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,F),u}return t}let O=s.createContext(null);O.displayName="DisclosureAPIContext";function L(e){let t=s.useContext(O);if(t===null){let u=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,L),u}return t}let R=s.createContext(null);R.displayName="DisclosurePanelContext";function ie(){return s.useContext(R)}function de(e,t){return w(t.type,ce,e,t)}let pe=s.Fragment;function fe(e,t){let{defaultOpen:u=!1,...i}=e,c=s.useRef(null),d=T(t,Z(a=>{c.current=a},e.as===void 0||ee(e.as))),p=s.useReducer(de,{disclosureState:u?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:l,buttonId:n},S]=p,r=I(a=>{S({type:1});let m=te(c.current);if(!m||!n)return;let E=a?X(a)?a:"current"in a&&X(a.current)?a.current:m.getElementById(n):m.getElementById(n);E?.focus()}),$=s.useMemo(()=>({close:r}),[r]),f=h({open:l===0,close:r}),y={ref:d},P=k();return b.createElement(B.Provider,{value:p},b.createElement(O.Provider,{value:$},b.createElement(le,{value:r},b.createElement(se,{value:w(l,{0:g.Open,1:g.Closed})},P({ourProps:y,theirProps:i,slot:f,defaultTag:pe,name:"Disclosure"})))))}let me="button";function Ee(e,t){let u=s.useId(),{id:i=`headlessui-disclosure-button-${u}`,disabled:c=!1,autoFocus:d=!1,...p}=e,[l,n]=F("Disclosure.Button"),S=ie(),r=S===null?!1:S===l.panelId,$=s.useRef(null),f=T($,t,I(o=>{if(!r)return n({type:4,element:o})}));s.useEffect(()=>{if(!r)return n({type:2,buttonId:i}),()=>{n({type:2,buttonId:null})}},[i,n,r]);let y=I(o=>{var v;if(r){if(l.disclosureState===1)return;switch(o.key){case D.Space:case D.Enter:o.preventDefault(),o.stopPropagation(),n({type:0}),(v=l.buttonElement)==null||v.focus();break}}else switch(o.key){case D.Space:case D.Enter:o.preventDefault(),o.stopPropagation(),n({type:0});break}}),P=I(o=>{o.key===D.Space&&o.preventDefault()}),a=I(o=>{var v;re(o.currentTarget)||c||(r?(n({type:0}),(v=l.buttonElement)==null||v.focus()):n({type:0}))}),{isFocusVisible:m,focusProps:E}=j({autoFocus:d}),{isHovered:C,hoverProps:K}=J({isDisabled:c}),{pressed:M,pressProps:N}=Q({disabled:c}),U=h({open:l.disclosureState===0,hover:C,active:M,disabled:c,focus:m,autofocus:d}),V=ne(e,l.buttonElement),_=r?A({ref:f,type:V,disabled:c||void 0,autoFocus:d,onKeyDown:y,onClick:a},E,K,N):A({ref:f,id:i,type:V,"aria-expanded":l.disclosureState===0,"aria-controls":l.panelElement?l.panelId:void 0,disabled:c||void 0,autoFocus:d,onKeyDown:y,onKeyUp:P,onClick:a},E,K,N);return k()({ourProps:_,theirProps:p,slot:U,defaultTag:me,name:"Disclosure.Button"})}let be="div",Se=G.RenderStrategy|G.Static;function ye(e,t){let u=s.useId(),{id:i=`headlessui-disclosure-panel-${u}`,transition:c=!1,...d}=e,[p,l]=F("Disclosure.Panel"),{close:n}=L("Disclosure.Panel"),[S,r]=s.useState(null),$=T(t,I(C=>{ae(()=>l({type:5,element:C}))}),r);s.useEffect(()=>(l({type:3,panelId:i}),()=>{l({type:3,panelId:null})}),[i,l]);let f=Y(),[y,P]=q(c,S,f!==null?(f&g.Open)===g.Open:p.disclosureState===0),a=h({open:p.disclosureState===0,close:n}),m={ref:$,id:i,...z(P)},E=k();return b.createElement(W,null,b.createElement(R.Provider,{value:p.panelId},E({ourProps:m,theirProps:d,slot:a,defaultTag:be,features:Se,visible:y,name:"Disclosure.Panel"})))}let Ie=x(fe),$e=x(Ee),Pe=x(ye),Ce=Object.assign(Ie,{Button:$e,Panel:Pe});export{Pe as L,Ce as X,$e as x};
