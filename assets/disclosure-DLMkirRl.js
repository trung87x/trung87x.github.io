import{G as b,Y as x,r as a,I as T,o as I,b as P,$ as z,d as J,e as Y,n as h,V as A,K as k,ad as _,ae as q,af as g,an as Q,aD as W,aE as Z,aF as ee,az as te,ay as G,aG as le,as as ae,a8 as w,at as X}from"./index-DoTC0ASh.js";import{e as se}from"./use-resolve-button-type-CU9pBceG.js";import{s as ne}from"./bugs-DGQnUURC.js";var H;let re=(H=b.startTransition)!=null?H:function(e){e()};var oe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(oe||{}),ue=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(ue||{});let ce={0:e=>({...e,disclosureState:w(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},B=a.createContext(null);B.displayName="DisclosureContext";function F(e){let t=a.useContext(B);if(t===null){let u=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,F),u}return t}let O=a.createContext(null);O.displayName="DisclosureAPIContext";function L(e){let t=a.useContext(O);if(t===null){let u=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,L),u}return t}let R=a.createContext(null);R.displayName="DisclosurePanelContext";function ie(){return a.useContext(R)}function de(e,t){return w(t.type,ce,e,t)}let pe=a.Fragment;function fe(e,t){let{defaultOpen:u=!1,...i}=e,c=a.useRef(null),d=T(t,Z(r=>{c.current=r},e.as===void 0||ee(e.as))),p=a.useReducer(de,{disclosureState:u?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:l,buttonId:s},S]=p,n=I(r=>{S({type:1});let m=te(c.current);if(!m||!s)return;let E=r?G(r)?r:"current"in r&&G(r.current)?r.current:m.getElementById(s):m.getElementById(s);E?.focus()}),$=a.useMemo(()=>({close:n}),[n]),f=h({open:l===0,close:n}),y={ref:d},D=k();return b.createElement(B.Provider,{value:p},b.createElement(O.Provider,{value:$},b.createElement(le,{value:n},b.createElement(ae,{value:w(l,{0:g.Open,1:g.Closed})},D({ourProps:y,theirProps:i,slot:f,defaultTag:pe,name:"Disclosure"})))))}let me="button";function Ee(e,t){let u=a.useId(),{id:i=`headlessui-disclosure-button-${u}`,disabled:c=!1,autoFocus:d=!1,...p}=e,[l,s]=F("Disclosure.Button"),S=ie(),n=S===null?!1:S===l.panelId,$=a.useRef(null),f=T($,t,I(o=>{if(!n)return s({type:4,element:o})}));a.useEffect(()=>{if(!n)return s({type:2,buttonId:i}),()=>{s({type:2,buttonId:null})}},[i,s,n]);let y=I(o=>{var v;if(n){if(l.disclosureState===1)return;switch(o.key){case P.Space:case P.Enter:o.preventDefault(),o.stopPropagation(),s({type:0}),(v=l.buttonElement)==null||v.focus();break}}else switch(o.key){case P.Space:case P.Enter:o.preventDefault(),o.stopPropagation(),s({type:0});break}}),D=I(o=>{o.key===P.Space&&o.preventDefault()}),r=I(o=>{var v;ne(o.currentTarget)||c||(n?(s({type:0}),(v=l.buttonElement)==null||v.focus()):s({type:0}))}),{isFocusVisible:m,focusProps:E}=z({autoFocus:d}),{isHovered:C,hoverProps:K}=J({isDisabled:c}),{pressed:M,pressProps:N}=Y({disabled:c}),U=h({open:l.disclosureState===0,hover:C,active:M,disabled:c,focus:m,autofocus:d}),V=se(e,l.buttonElement),j=n?A({ref:f,type:V,disabled:c||void 0,autoFocus:d,onKeyDown:y,onClick:r},E,K,N):A({ref:f,id:i,type:V,"aria-expanded":l.disclosureState===0,"aria-controls":l.panelElement?l.panelId:void 0,disabled:c||void 0,autoFocus:d,onKeyDown:y,onKeyUp:D,onClick:r},E,K,N);return k()({ourProps:j,theirProps:p,slot:U,defaultTag:me,name:"Disclosure.Button"})}let be="div",Se=X.RenderStrategy|X.Static;function ye(e,t){let u=a.useId(),{id:i=`headlessui-disclosure-panel-${u}`,transition:c=!1,...d}=e,[p,l]=F("Disclosure.Panel"),{close:s}=L("Disclosure.Panel"),[S,n]=a.useState(null),$=T(t,I(C=>{re(()=>l({type:5,element:C}))}),n);a.useEffect(()=>(l({type:3,panelId:i}),()=>{l({type:3,panelId:null})}),[i,l]);let f=_(),[y,D]=q(c,S,f!==null?(f&g.Open)===g.Open:p.disclosureState===0),r=h({open:p.disclosureState===0,close:s}),m={ref:$,id:i,...Q(D)},E=k();return b.createElement(W,null,b.createElement(R.Provider,{value:p.panelId},E({ourProps:m,theirProps:d,slot:r,defaultTag:be,features:Se,visible:y,name:"Disclosure.Panel"})))}let Ie=x(fe),$e=x(Ee),De=x(ye),Ce=Object.assign(Ie,{Button:$e,Panel:De});export{De as L,Ce as X,$e as x};
